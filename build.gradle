plugins {
    id 'com.palantir.git-version' version '0.13.0'
    id "com.github.spotbugs" version "5.0.5"
    id "io.freefair.lombok" version "6.4.0"
    id "pmd"
    id "jacoco"
    id "java"
}

repositories {
    mavenCentral()
}

group 'com.mtecresults'
version = versionDetails().lastTag+"-"+versionDetails().gitHash

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    implementation 'org.slf4j:slf4j-api:1.7.25'
    implementation 'org.apache.mina:mina-core:2.0.19'
    implementation 'org.apache.commons:commons-csv:1.9.0'

    runtimeOnly 'org.slf4j:slf4j-simple:1.7.25'

    testImplementation 'junit:junit:4.12'
    testImplementation 'org.jmockit:jmockit:1.39'
}

spotbugs {
    ignoreFailures = true
    reportsDir = file("$project.buildDir/reports/findbugs")
    effort = "max"
}

pmd {
    ignoreFailures = true
    reportsDir = file("$project.buildDir/reports/pmd")
    toolVersion = "6.21.0"
}